---
layout: layouts/post.njk
---

## 同じ集団とは何か？

![5人の子供の集団ver](/img/stats/5人の子供の集団ver.png)

2つの困難

1. 母集団を集めること
2. 母集団を構成する1人1人を複製すること

のうち，2を解決する方法を見ていきます．2の困難の本質は人間を複製することにありますが，そもそもなぜ1人1人を複製しようと思ったのでしょうか．それは，同じ母集団を2つ用意するためです．同じ集団でなければ差が薬の効果とは言えないのでした．

この論理の根底には「集団が同じになるためには，同一の個人がどちらの集団にも存在していないといけない」という考えがあります．だからこそ，同じ集団をつくるために，1人1人を複製しようと思うのです．

![](/img/stats/同じ集団とは同じ個人が存在すること？.png)

この集団の同一性に関する考え方を修正すると，個人の複製はできなくても，集団の複製は可能であることが分かります．この非対称性が統計学を有用たらしめるのです．

## 個人の同一性

集団の同一性について考える前に，個人の同一性を考えてみましょう．

2人が全く同じ人間というとき，私たちが意味するのは，この2人は，どんな点についても同じであるということです．例えば身長も体重も顔の形も，身体をつくる細胞の種類も数も，なにもかもぴったり同じだということです．

![個人が完全に同一](/img/stats/個人が完全に同一.png)

このうち身体をつくる細胞の数は，私たちが知ることはできません．ですが，知り得ることも知り得ないことも両方含めて全部の点で同じになる，というのが，個人が同じということです．だからこそ，ある介入(例えば薬Z)の効果も同じになるのです．例えば，ある2人が，人智の知り得る全ての点では同じでも，知り得ない何かしらの点で違っていれば，この違いのために2人の薬への効果が変わる可能性があります．

一方，2人がある点において同じというときはどうでしょうか．例えば身長という点で2人が同じかを調べたければ身長を測って同一の値になるかを見ればよいでしょう．もし同じ値なら，他の点はさておき，二人は同じ身長だといえます．

![ある点・ある性質で同一](/img/stats/ある点・ある性質で同一.png)

そして別の捉え方としては，身長だけを知っても二人を区別することができないとき，身長については同じと言えます．

## 集団の同一性

次に集団の同一性を考えます．集団についても，個人と同じように，全く同じ(=すべての点で等しい)とか，ある点では同じとかいうことを考えることができる方がいいでしょう．

しかし，上記の考え「集団が同じになるためには，全く同一の個人がどちらの集団にも存在していないといけない」を採用するなら，ある点については同じ，だけど他の点では違うということは考えることはできなくなります．一人でも構成員が異なれば，それは単に違う集団となってしまうからです．よって，この同一性の定義では，集団は完全に同一(=全ての点で等しい)か，そうではない別物かの2択となってしまいます．さらに集団の大きさが違う場合，例えば，100人と200人の集団が同一になることはなくなります．

![同じ集団とは同じ個人が存在すること？に対する反論](/img/stats/同じ集団とは同じ個人が存在すること？への反論.png)

では，この考えを修正して，他の点はさておき，例えば身長については2集団が同じということを考えるためには，同一性をどんな基準で判定すればいいでしょうか．問題は，集団は複数人から構成されているので1つの身長は存在しないことです．だから個人のときのように計測した1つの値を直接比べるようなことはできません．

といっても集団の1人1人の身長の値を直接見るのでは，意味のあることを判断するのは困難です．例えば以下の100人からなる2つの集団の身長データをそのまま眺めても，何が言えるのか判断することは難しいでしょう．

<div class="overflow-y-scroll my-12" style="height : 300px">

|集団1(cm)|集団2(cm)|
|---|---|
|98\.9|113\.8|
|104\.6|106\.6|
|99\.2|108\.4|
|105\.0|107\.9|
|101\.3|94\.5|
|96\.9|109\.2|
|96\.2|111\.3|
|97\.2|102\.8|
|103\.0|109\.6|
|99\.2|91\.7|
|103\.5|107\.2|
|100\.6|96\.9|
|100\.0|111\.5|
|108\.2|112\.0|
|93\.5|108\.6|
|100\.1|105\.8|
|104\.4|79\.9|
|100\.7|84\.4|
|97\.1|102\.3|
|102\.0|108\.6|
|98\.9|106\.7|
|101\.0|110\.2|
|95\.1|107\.3|
|97\.4|98\.2|
|101\.3|99\.0|
|101\.7|105\.2|
|103\.8|110\.0|
|91\.8|110\.3|
|102\.0|77\.0|
|101\.8|112\.2|
|102\.9|114\.4|
|96\.4|109\.4|
|99\.3|108\.9|
|96\.0|112\.8|
|101\.7|83\.2|
|98\.8|109\.3|
|104\.2|107\.2|
|104\.3|106\.4|
|96\.9|80\.9|
|104\.9|78\.6|
|102\.6|112\.5|
|94\.4|95\.6|
|102\.9|106\.7|
|99\.4|96\.5|
|94\.6|79\.3|
|106\.8|107\.0|
|98\.5|107\.5|
|104\.4|80\.4|
|102\.2|104\.1|
|97\.4|82\.9|
|92\.7|87\.0|
|99\.2|84\.0|
|103\.3|108\.5|
|97\.1|81\.5|
|98\.0|112\.9|
|101\.4|82\.1|
|99\.4|110\.5|
|105\.3|83\.7|
|100\.4|105\.0|
|95\.4|105\.3|
|96\.2|106\.1|
|97\.6|81\.9|
|108\.3|106\.8|
|95\.9|98\.3|
|101\.1|105\.4|
|98\.0|84\.6|
|102\.7|104\.2|
|101\.5|113\.3|
|96\.2|86\.8|
|99\.8|84\.8|
|94\.4|110\.6|
|101\.0|81\.1|
|110\.5|113\.0|
|101\.4|75\.5|
|97\.9|100\.8|
|104\.0|79\.6|
|102\.3|105\.4|
|103\.9|107\.4|
|102\.6|80\.1|
|101\.6|104\.3|
|97\.3|107\.9|
|100\.9|105\.7|
|93\.6|101\.0|
|105\.4|112\.4|
|100\.5|109\.3|
|105\.6|99\.5|
|96\.1|84\.0|
|86\.8|80\.8|
|97\.4|103\.4|
|93\.5|105\.4|
|98\.7|105\.6|
|99\.8|89\.7|
|96\.7|84\.7|
|98\.9|85\.8|
|106\.0|109\.2|
|96\.6|103\.4|
|98\.4|99\.0|
|97\.7|106\.2|
|100\.2|108\.6|
|109\.0|116\.6|
</div>

そこで，多くの場合データを集約します．集約方法としては，例えば平均身長をとる方法があります．先程の2集団の平均を計算してみると，どちらも実は100cmになります．ではこれをもって2つの集団は同じと言えるでしょうか．つまり，同一性の基準を平均の一致と定義することは妥当でしょうか．妥当ではありません．例えば，この2集団の身長の分布を[ヒストグラム](https://backlog.com/ja/blog/what-is-a-histogram/)に示してみると次のようになります．

集団1
![集団1](/img/stats/normal-m100-s100.png)

集団2
![集団2](/img/stats/normalm84m110.png)


<div class="text-sm">
一般的には，ヒストグラムの縦軸は度数，つまりその階級に当てはまる人の数とするのですが，ここでは相対度数(=割合)，つまりその階級に当てはまる人の数を全体の人数で割ったものを縦軸の値としています．

</div>

こうしてみると，2つの集団は平均は一致しても，身長の分布は違うことが分かります．その結果，身長の中央値や，最大値，分散など，平均以外のデータを集約する値は異なることが分かります．

<div class="overflow-x-scroll my-12" style="width : 100%">

|*|平均|中央値|最大値|最小値|分散|標準偏差|
|---|---|---|---|---|---|---|
|集団1|100.0|100.1|110.5|86.7| 15.9| 4.0|
|集団2|100.0|105.4|116.6|75.5|136.1|11.7|

</div >


逆に，2つの分布が同じであれば，平均値だけでなく全てのデータ集約値は同じになることが知られています．

そこで次の同一性の基準を採用します．

<div class="border-l-8 border-blue-700 bg-blue-100 py-2 px-4 rounded my-8">
<div class="leading-[34px]">2集団が<b>ある性質について同一</b>であるとは，その性質についての分布が2集団で等しいことである
</div></div>

例えば，身長の分布が2集団で同一なら，他の点はさておき，身長については２集団は同一だと考えるのです．これを認めれば

<div class="border-l-8 border-blue-700 bg-blue-100 py-2 px-4 rounded my-8">
<div class="leading-[34px]">2集団が<b>同一</b>であるとは，あらゆる性質についての分布が2集団で等しいことである
</div></div>

という定義も自然に導かれるでしょう．

この同一性の定義の正当性は，直観的に次のようにも考えられます．引き続き身長を例に説明します．

個人の場合，身長が同じというのは，身長についての情報だけでは2つを見分けることができないことを意味しました．であれば，集団においても同様に，身長だけを測定しても2集団を見分けることができないとき，身長が同じと言っていいのではないでしょうか．

![個人の場合を応用すること](/img/stats/ある点・ある性質で同一とは，個人と集団の場合.png)

個人の身長を測定することは，その人の身長を計測することでしたので，集団の身長を測定するとは，集団に属する人一人一人の身長を計測することでしょう．このとき，集団の1人1人は特別扱いせず，ランダムに1人ずつ取り出して，身長を測っていくとしましょう．分布は相対度数=割合を示すので，身長の分布は，その集団からランダムに1人とってきたときに，身長がある値になる確率を表していると考えることができます．

![個人と集団の測定方法](/img/stats/個人と集団の測定方法.png)

例えば集団1の分布をもう一度見ます．

![集団1](/img/stats/normal-m100-s100withText.png)

これを見ると，96cm~98cmの人の割合は0.20なので，集団１からランダムに1人取り出した時，この人の身長が96cm~98cmになる確率は20%であることが分かります．他の身長についても同様に，ヒストグラムの縦軸=割合は，1人取り出したときに，その身長になる確率を表していると考えられます．

一方，集団2をみると，

![集団2](/img/stats/normalm84m110withText.png)

であり，96cm~98cmが取り出される確率は，0.02(=2%)ほどです．

ということは，集団1と2については，一人一人を取り出して身長を測っていけば，96cm~98cmの人がでてくる割合の違いで，どちらの集団かを判定できるわけです．例えば，100人取り出して身長を測っていったときに，例えば18人の身長が96cm-98cmであれば，それは集団1のはずです．<small>(もちろん他の身長がでてくる割合も違うのでそちらで判断してもいいでしょう．)</small>逆に，例えば1人も96cm-98cmの人がいなければ，それは集団2のはずです．

![分布が違う場合区別できること](/img/stats/分布が違う場合区別できること.png)

それでは，身長の分布が2集団で同じならばどうでしょうか．この場合，どの身長についても，その身長が計測される確率は2集団で同じになるので，身長の測定だけでは2集団を区別することができません．よって，身長の分布が同じであれば，身長の測定だけで2集団を区別することはできません．これが集団の等しさを分布の等しさで考える直観的な理由です．

以上から，分布の等しさで同一性を判断することにします．このようにすれば，2集団の大きさが異なる場合であっても，2集団は等しくなり得ることが分かります．

薬の効果を判定するためには，同一の集団を用意する必要がありましたが，今や個人を複製する必要はありません．あらゆる性質の分布が同じ集団をつくることができれば良いからです．それでは，どうやってあらゆる性質の分布が同じ集団をつくるか？これが次の問題です．

<div class="hidden">

その根拠は後で説明します．また，分布とは正確には[相対度数分布](https://best-biostatistics.com/toukei-kentei/ref_num.html)のことです．度数分布をグラフにしたのがヒストグラムです．


他のどの身長をとっても，その身長となる確率は等しいので，ランダムに人を取り出して身長を測ることを続けても，それがどちらの集団なのかを判定することはできません．逆に分布に違いがあれば，でてくる身長の頻度に違いがあるので，どちらの集団から取り出しているのかを判定することができます．もしくは，別の言い方をすると，2集団A,Bがあって，この2集団の身長の分布が同じであれば，最初Aからランダムに人を取り出して身長を測ることを繰り返していたとして，誰かが内緒で取り出す集団をBに入れ替えても，いつAとBが入れ替わったのかを判定することはできないということです．


以上から，ある点において2集団が等しい=その点についての分布が2集団で等しい，2集団が(完全に)等しい=あらゆる点について分布が2集団で等しいを採用することとしましょう．薬の効果を判定するためには，同一の集団を用意する必要がありましたが，今や個人を複製する必要はありません．あらゆる性質の分布が同じ集団をつくることができれば良いからです．逆に，もし2集団が何かしらの点で分布が異なる場合，例えば，身長の伸びを促進する遺伝子GBの分布が次のように異なっていれば，薬に対する効果と思っていたものは，実はこのGBの分布の差に起因していたことがありえ，集団の平均効果の差が薬の効果とはいえなくなります．<sidenote>つまり，実験の結果への反論として，薬の効果といっているけど，薬を使った群は，GBをたくさん発現している人が多いのだから，これが薬群の身長の伸びが良かった原因で，薬の効果が原因ではないかもしれないよね？</sidenote>

</div>

<div class="hidden">それゆえ2集団の身長の分布が同じなら，2集団からランダムに1人ずつ取ってきて，身長を測定した時に，その2人がある値をとる確率が同じになるということです．そうすると，この同一性の定義は個人のときのものを拡張したものに思えてきます．つまり個人のときは100%の確率で等しい値がでるのが同一性の定義で，集団のときは，ある値が等しい確率でるのが同一性の定義なのです．つまり個人の同一性に確率を導入したものと見なせます．
以上から，2つの集団が全く同一であるとは，2集団のあらゆる性質の分布が等しいことと定義できます．
</div>