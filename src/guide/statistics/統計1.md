---
layout: layouts/post.njk
---

## A

## 意思決定の一般形式とその判断方法

私たちは日々意思決定をしています．「お昼にラーメンを食べるべきか，食べないべきか」「マンションを買うべきか，買わないべきか」などなど．意思決定の基本的な形は「Aをするべきか，しないべきか」と言えます．これはどう決断できるのでしょうか．次の例で考えてみます．

![意思決定の一般形式のまとめ]()

Dr.Kには今日5歳になった子供Lがいます．ちょうどこの日に，Kはある飲み薬Zを開発しました．この飲み薬は**1回飲むだけで**，成長を促進し，飲んだ子供の身長を伸ばす効果があることが**理論的には**予想できました．しかし理論的にはそう言えても，**本当にそうなるのかはやってみなくては分かりません**．身長を伸ばす効果があるのなら，子供Lに使ってやりたいですし，そうでないなら，副作用を考えてLに使うことを避けたいところです．

つまりDr.Kの意思決定は「子供Lに薬Zを使うべきか否か」であり，その判断基準は「薬Zが子供Lの身長を伸ばすかどうか」です．ここでは一般的に「行為Aをすべきか否か」も「Aをした時に得られる効果が望ましいかどうか」で決めることにします．<sidenote-number></sidenote-number><sidenote>もちろん，帰結がどうなろうとも，行為自体の善し悪しですべきか否かを決める，例えば「嘘がたとえ良い結果をもたらすとしても，嘘は絶対についてはいけない」という姿勢もあり得るでしょう．</sidenote>

![ラフ1]()


## 個人への効果を知るための完全に確実な方法，その不可能性

そこで問題はこの効果の測定，この例では「薬Zが子供Lの身長を伸ばすか」をどうやって知るのかになります．**完全に確実な方法**<sidenote-number></sidenote-number><sidenote>「完全に確実」とは，「薬Zが子供Lの身長を伸ばすかどうか」を絶対に正しく知ることができる方法なので，意思決定を誤る可能性が0だということです．</sidenote>は次のようなものです．

Lのコピー人間L'とL''を作ります．L',L''は名前が違うだけで物理的にはLと全く同じです．L'には，薬Zを飲ませます．L''には，プラセボを飲ませます．1年間L'とL''には，全く同じ生活を送ってもらいます．つまり同じ食事，同じ睡眠，同じ運動などあらゆる活動を同じにします．そして，1年後にL'とL''の身長を測り，その違いがZの効果です．<sidenote-number></sidenote-number><sidenote>ここでは効果判定の時期としてちょうど1年後の6歳の誕生日をとりましたが，これは分かりやすさのためで，実際には18歳の時点で計測するなど，もっと大人になったときに効果を測定する必要があります．というのも，6歳のときに伸びていても，その後身長の伸びが悪くなっておとなになった時の身長が低くなってしまうような薬なら本当に伸びたとは言えないからです．ここでする話は6歳を別の年齢に変えてもそのまま通用する話です．</sidenote>

![ラフ2]()

- これがなぜ絶対的に確実な方法と言えるのか
- どうすれば，この方法を自分で思いつくのか

この2つを理解するのが次の目標です．そのために最も素朴なやり方を改善していくという方法をとります．

まず，最も素朴な方法として薬Zを「えいやっ」とLに投与してしまったらどうでしょうか．この場合，たとえ1年後にLの身長がよく伸びていたとしても，それがZの効果なのかはわかりません．自然によく伸びただけかもしれないからです．例えば，犯罪を犯すもののほとんどは，犯行の前日に水を飲んでいますが，だからといって，犯罪の発生は水の効果ではありません．水を飲んでも飲んでいないくても犯罪は起きただろうからです．同じように，薬を飲んだときのことしか分からなければ，身長がよく伸びても，薬がその原因かは分かりません．薬を飲んでいてもいなくても身長はよく伸びたかも知れないからです．

そこで，薬を飲む場合と飲まない場合を比べる必要があることが分かります．例えばLには飲ませて，その友達Mには飲ませないとして，効果を比べることにします．しかし，LとMは違う人間ですから，2人の身長の伸びの違いは，薬を飲む飲まない以外の，例えば，次のような違いで生じる可能性があります．

- Lの両親はMの両親よりも背が高いので，遺伝的にLの方が伸びやすい
- Lの方がたんぱく質の多い食事をとり，生活的にはLの方が伸びやすい

だから，2人の身長の差を比べても，その差が薬の効果だと確実には言えません．

それに，今までの話ではLに実際に薬を投与してしまっていますが，これだと薬を飲まないほうが良かったと分かった時に取り返しが付きません．しかし，Lとは別の人間で試しても，すでに述べたようにLとその人には色々な違いがあるために，その結果がLにそのまま適応できるとは限りません．

そこで，Lの複製L',L''をつくって，L'には薬を飲ませ，L''には飲ませないことにして，全く同じ生活を送らせて，効果を調べることにします．こうすれば遺伝的にも，生活的にも2人は全く同じなので，唯一の違いは薬の有無だけになります．よって，L'とL''の身長の伸びの差は薬の効果によるものと言えます．さらに3人は同じ人間なので，良い方の結果はそのままLでも再現されます．

これで今までの問題がすべて解決されました．しかし，もう１つだけ問題があります．それは薬の飲む・飲まないを彼らが自覚しているということです．薬を飲むL'は「これで身長が伸びやすくなる」と信じて生きることになりますし，飲まないL''は，「薬を飲まないからL'に比べて身長が伸びない」と信じて生きることになります．身長が伸びる薬だと思うだけで，実際にはそんな効果がなかったとしても，彼らに影響を与えるのです．つまり，実はL'とL''が送るのは全く同じ生活ではなかったわけです．これでは，L'とL''の伸びの差は薬の効果ではなく，送った生活の違いのせいかもしれない，と反論することができてしまいます．

そこで，小麦をねって丸めただけの全く効果のない，しかし見た目は薬Zにそっくりの錠剤を用意し，L''には薬Zを飲ませない代わりに，これを本当の薬Zだとして飲ませることにします．このようなものをプラセボ(偽薬)といいます．こうして，L',L''は，薬が純粋に与える効果以外には，全く同じ生活をする全く同じ人間になります．そこで，1年後の2人の身長の差は，そのまま薬の効果と考えることができます．こうして，効果があればLに飲ませ，なければLに飲ませないとすれば，絶対に間違いのない完璧な意思決定ができることになります．<sidenote-number></sidenote-number><sidenote>この設定だとDr.K(=薬の効果の測定者)はどちらに薬を与えたのかを知っていることになります．測定者が薬の有無を知っている場合に，測定に影響を及ぼす可能性があります．今回は身長を計測するだけなので，影響がある可能性は低いですが，例えば，薬によって性格が明るくなったかどうかを測定者が判断する場合を考えましょう．測定者が薬に効果があると信じていて，かつ，その人が薬を使ったという事実を知っていれば，意識的せよ無意識的にせよ，明るくなったように感じるかもしれません．同じ理屈で，薬を使っていない人については，明るくなっていないように感じるかもしれません．そこで測定者自身も薬の有無を知らずに測定する方法を取る必要があります．このように被験者(例ではL'とL'')と測定者(例ではDr.K)どちらにも薬の有無を隠して実験を行うことを**二重盲検化**といいます．Dr.Kの実験でも完璧を期するなら，二重盲検化したほうが良いでしょう．</sidenote>

重要なポイントは，効果を測定したい介入，今回の例では薬Zですが，これ以外の要素をすべて同じにした2つを比べることで，2つの差が介入の効果と主張できる，逆に全てが同じでなければ，差は効果とは言えない，ということです．

![ラフ3]()

ですから，完璧な方法はもう１つあって，それは介入を行って結果を測定し，時をもどして，介入を行わないで結果を測定し，2つの結果を比べることです．複製する方法も，時間を戻す方法も，「介入以外の要素が全て同じである2つの差を比べることで介入の効果を求める」ということが実現できているので，どちらも同じく完全に確実な方法で，方法以外には差はありません．

これらの完璧な方法の欠点は，それが実現不可能だということです．人間をコピーすることはできないし，時間を操作することもできないからです．しかし，これが可能だったとして話を進めてみましょう．<sidenote-number></sidenote-number><sidenote>同じ生活については，厳密な意味での同じはもちろん不可能ですが，同じと見なせるくらい似た生活を送らせることは可能です．問題は「同じと見なせる」ための条件ですが，これについてはここで正確に考えることはできません．ひとまずは可能だと考えておいてください．</sidenote>


## B

## 集団の効果を知る確実な方法とその原理と不可能性

前回説明した完璧な実験が行えるとしてDr.Kのストーリーを進めます．

<img src="/img/stats/Frame20.svg" alt="" class="py-8 xl:max-w-[1000px]"/>

実験の結果，薬Zを飲んだL'のほうが，飲まなかったL''に比べて明らかに身長が伸びていることが分かりました．そこで子供LにもZを使用したところ，L'と全く同じようにLの身長も伸びました．そこでDr.Kは**この薬をJ国の子供達にも使うべきか**を考え始めました．

つまり，Dr.Kは個人ではなく，集団に対する意思決定を考え始めたのです．もう少し具体的に「J国の子供が5歳になった日に薬Z 20mgを1回内服させるべきか否か」という意思決定を考えたいことにします．<sidenote-number></sidenote-number><sidenote>Lの例でも言及していませんでしたが，薬Zは20mgを1回内服させていたと考えてください．</sidenote>

これを決断するための判断基準は何でしょうか？Lの場合には「Lの身長が薬で伸びるか，伸びないか」でしたが，今回の対象は子供**達**です．例えば「薬によって子供たち**全員の**身長が，薬を飲まないときよりも伸びること」というのはどうでしょうか．これは厳しすぎるとDr.Kは考えました．例えば子供が100人いて，1人の身長は飲むとむしろ伸びなくなる，11人は飲んでも飲まなくても変わらない，88人はとても伸びる，という結果であれば，飲んだほうがいいのだと．こうしてDr.Kは「5歳0日児に薬Z 20mg 1錠を使用したときのほうが，使用しないときと比べて6歳0日での身長が**平均して**高くなっていること」これが，意思決定のための判断基準として妥当だと考えました．<sidenote-number></sidenote-number><sidenote>例えば，抗がん剤を考えると，8割の人にはよく効いて完治し，2割の人にはほとんど効かず副作用で苦しむだけ，というものでも，8割に効くのなら使用は正当化されます．Dr.Kの判断基準の正当化の根拠はこのあたりにあるかもしれません．</sidenote>

例えば，5人の5歳0日児を例に実際にやってみます．彼らをそれぞれLのように複製して，飲むグループと飲まないグループ<small>(グループのことを今後，**群**とも言います．)</small>の伸びを比べます．以下の通り，そのためには，各群の平均差を求めれば良いことが分かります．つまり，群の平均差=薬の効果と考え，薬を飲む群の平均の方が高ければ，この5人に対して薬を飲ませることを決めるということになります．

<div class="max-w-[100%] overflow-scroll">
<table>
<thead>
<tr>
<th>子</th>
<th>5歳0日</th>
<th>6歳0日 薬+</th>
<th>6歳0日 薬-</th>
<th>薬の効果</th>
</tr>
</thead>
<tbody>
<tr>
<td>L</td>
<td>106.0cm</td>
<td>114.0cm</td>
<td>112.0cm</td>
<td class="bg-green-200">+2cm</td>
</tr>
<tr>
<td>M</td>
<td>102.5cm</td>
<td>111.4cm</td>
<td>108.1cm</td>
<td class="bg-green-200">+3.3cm</td>
</tr>
<tr>
<td>N</td>
<td>112.9cm</td>
<td>120.3cm</td>
<td>121.8cm</td>
<td class="bg-red-300">-1.5cm</td>
</tr>
<tr>
<td>O</td>
<td>107.2cm</td>
<td>114.4cm</td>
<td>113.6cm</td>
<td class="bg-green-200">+0.8cm</td>
</tr>
<tr class="border-b-2 border-black">
<td>P</td>
<td>108.1cm</td>
<td>115.0cm</td>
<td>114.5cm</td>
<td class="bg-green-200">+0.5cm</td>
</tr>
<tr>
<td>平均</td>
<td>107.34cm</td>
<td>115.02cm</td>
<td>114.0cm</td>
<td class="bg-yellow-200">+1.02cm</td>
</tr>
</tbody>
</table>
</div>


![5人の子供の結果の図　figmaにあるもの]()

対象は5人の5歳0日児ではなく，J国の5歳0日児なので，同様に考えると理想的な実験手順は，

1. 薬を使用する予定のJ国の5歳0日児を全員を集めてくる
2. 彼らをそれぞれ複製して，薬を飲むものと飲まないものに分ける
3. 全く同じ生活をさせて6歳0日での各群の平均を比べる

![5人の子供の集団ver]()

ということになります．ここでも人間の複製という困難がありますが．実はステップ1も複製と同じくらい困難なのです．

まず，ステップ1の実施が必要があること，特に全員を集める必要があることを説明します．<sidenote-number></sidenote-number><sidenote>というのも，もしこれをする必要がないのなら，仮にこれの実施が困難であっても問題ではないからです．</sidenote>もし，「薬を使用する予定のJ国の5歳0日児の子供全員」<small>(以下これを全員と呼びます)</small>を集めてこないで，先程の5人の結果だけで，薬を使うべきかを判断したとしましょう．しかし，この5人の結果と全員の結果が一致するとは限りません．たまたまこの5人は薬がよく効いただけで，100人,1000人と人数を増やして調べれば，結果は変わるかもしれません．こうして考えていくと，結果が変わることがない，確実なものになるのは，全員の結果を実際に調べた時だけです．逆に全員を複製して薬Zを飲む・飲まないに分かれて伸びの差の平均が分かれば，その差こそが全員に対する薬の平均的な効果そのものになります．だからこそ，完全に確実な方法にしたければ，全員を集める必要があるのです．

![5人,100人，1000人での結果がどんどん変わっていくことの図]()

しかし，誰を集めてくれば全員を集めたことになるのでしょうか．仮に薬Zを使うことになったとすれば，Zは5歳になったJ国の子供皆に使われるわけですが，であれば，全員には，これから5歳になる子供達，例えば100年後に5歳になる子供達も含まれます．よって，今日5歳になった子供達，明日以降に5歳0日を迎える子供達，これらを全て集めてきたのが全員です．明日以降というのはいつまでかといえば，薬Zを使う最後の人類が5歳を迎える日までです．<sidenote-number></sidenote-number><sidenote>全員とは，「薬を使用する予定のJ国の5歳0日児の子供全員」のことでした．</sidenote>

![集団に含まれる人の図]()

ということで，人間の複製と同じくらいステップ1にも困難なことが分かります．万能の神を仮定して，実際に全員を集めてできる集団を母集団と呼ぶことにします．母集団への薬の差を調べることができれば，まさしく全員の結果を調べることになるので，薬の真の平均的な効果を求められます．

一般的には，母集団とは，ある介入について効果を知りたい対象を全員集めてきたものです．それゆえ，誰への効果が知りたいのかで母集団は変わります．例えば，ある広告の20代男性への効果を知りたいときには，「広告を見る可能性のある20代男性全員」が母集団になりますし，広告のターゲットを変えて，「年収が300万円以下で消費者金融で一度でも融資を受けたことのある20代男性」とするなら，これが母集団になります．Dr.Kの例で薬を投与するのは，つまり介入の対象になるのは「J国の5歳0日児」なのでこれが母集団になりますが，もっと広く野望を持って，「全世界の5歳0日児」に薬を使うことを考えるなら，これが母集団になります．もしくは，ターゲットを絞って，「5歳0日時に平均身長よりも5cm以上低い子供達」だけに薬を投与する予定ならこれが母集団になります．何が対象かによって母集団が決まるというのは非常に重要な観点ですので覚えておきましょう．

さて，一方で，母集団ではなく，例えば「ここ一週間でJ国で5歳を迎える全ての子供達(サンプル1)」を集めてきたのなら，これをサンプルといいます．サンプルは母集団の部分集合です．サンプルの構成方法はこれ以外にも「J国N市の年収XXXX万円以上で白色人種の家庭で5歳を迎える子供達(サンプル2)」とか「両親の平均身長が180cm以上の5歳0日児(サンプル3)」とか色々あります．重要なのはどのサンプルを使っても，その結果は母集団と完全には一致しないために不確実性が残るということです．完全に一致しないことは，サンプルに母集団から別の人間を追加すれば結果が変わることからも明らかです．

しかし，直観的には，

-  未来の子供も現在の子供も違いはないので，サンプル1への薬の効果は母集団への効果とほとんど同じだろう
- 一方で，サンプル2,3は，特殊な人達なので，母集団の結果と違うものになるかもしれない

と思われます．この直観は正しいのですが「どんな条件が満たされていれば母集団の結果とサンプルの結果は同じと見なせるようになるのか」これを理解することが次の目標になります．

![3つのサンプルと母集団，等しいとみなせるには？]()

まとめると，集団への介入の効果を知りたければ，

0. 母集団を定義する．つまり誰を介入の対象とするかを定める．
1. 母集団を集める．
2. 母集団の1人１人を複製することで母集団を複製し，介入する群と介入しない群の平均の差を調べる，
3. 平均の差を介入の効果と考える．

ということになり，困難性は

1. 母集団を集めること
2. 母集団を構成する1人1人を複製すること

にあります．

そして1の困難は良いサンプルを得ることで解決できそうです．良いサンプルとは「母集団の結果とサンプルの結果は同じと見なせる」ようなサンプルです．このようなサンプルとなる条件を求めたいのですが，その前に2についても現実的な解決方法があることを見ていきます．そして，この解決策はそのまま良いサンプルを得る方法にもなっているのです．このように，すべての困難が一つの(とてもシンプルな)解決策で解決されることを理解することがこの章のクライマックスです．頑張りましょう．

## C

## 同じ集団とは何か？

2つの困難

1. 母集団を集めること
2. 母集団を構成する1人1人を複製すること

のうち，2を解決する方法を見ていきます．2の困難の本質は人間を複製することにありますが，そもそもなぜ1人1人を複製しようと思ったのでしょうか．それは，同じ母集団を2つ用意するためです．同じ集団でなければ差が薬の効果とは言えないのでした．

この論理の根底には「集団が同じになるためには，同一の個人がどちらの集団にも存在していないといけない」という考えがあります．だからこそ，同じ集団をつくるために，1人1人を複製しようと思うのです．

この集団の同一性に関する考え方を修正すると，個人の複製はできなくても，集団の複製は可能であることが分かります．この非対称性が統計学を有用たらしめるのです．

集団の同一性について考える前に，個人の同一性を考えてみましょう．

2人が全く同じ人間というとき，私たちが意味するのは，この2人は，どんな点についても同じであるということです．例えば身長も体重も顔の形も，身体をつくる細胞の種類も数も，なにもかもぴったり同じだということです．このうち身体をつくる細胞の数は，私たちが知ることはできません．ですが，知り得ることも知り得ないことも両方含めて全部の点で同じになる，というのが，個人が同じということです．だからこそ，ある介入(例えば薬Z)の効果も同じになるのです．例えば，ある2人が，人智の知り得る全ての点では同じでも，知り得ない何かしらの点で違っていれば，この違いのために2人の薬への効果が変わる可能性があります．

一方，2人がある点において同じというときはどうでしょうか．例えば身長という点で2人が同じかを調べたければ身長を測って同一の値になるかを見ればよいでしょう．もし同じ値なら，他の点はさておき，二人は同じ身長だといえます．

次に集団の同一性を考えます．集団についても，個人と同じように，全く同じ(=すべての点で等しい)とか，ある点では同じとかいうことを考えることができる方がいいでしょう．

しかし，上記の考え「集団が同じになるためには，全く同一の個人がどちらの集団にも存在していないといけない」を採用するなら，ある点については同じ，だけど他の点では違うという2つの集団を考えることはできなくなります．集団は完全に同一(=全ての点で等しい)か，そうではない別物かの2択となってしまうからです．

では，この考えを修正して，他の点はさておき，例えば身長については2集団が同じということを考えるためには，「同じかどうか」をどんな基準で判定すればいいでしょうか．問題は，集団は複数人から構成されているので1つの身長は存在しないことです．だから個人のときのように計測した1つの値を直接比べるようなことはできません．

といっても集団のたくさんの値を直接見るのでは，意味のあることを判断するのは困難です．例えば以下の100人の2つの身長データをそのまま眺めても何が言えるのか判断することは難しいでしょう．

<div class="overflow-y-scroll" style="height : 300px">

|集団1|集団2|
|---|---|
|98\.9|113\.8|
|104\.6|106\.6|
|99\.2|108\.4|
|105\.0|107\.9|
|101\.3|94\.5|
|96\.9|109\.2|
|96\.2|111\.3|
|97\.2|102\.8|
|103\.0|109\.6|
|99\.2|91\.7|
|103\.5|107\.2|
|100\.6|96\.9|
|100\.0|111\.5|
|108\.2|112\.0|
|93\.5|108\.6|
|100\.1|105\.8|
|104\.4|79\.9|
|100\.7|84\.4|
|97\.1|102\.3|
|102\.0|108\.6|
|98\.9|106\.7|
|101\.0|110\.2|
|95\.1|107\.3|
|97\.4|98\.2|
|101\.3|99\.0|
|101\.7|105\.2|
|103\.8|110\.0|
|91\.8|110\.3|
|102\.0|77\.0|
|101\.8|112\.2|
|102\.9|114\.4|
|96\.4|109\.4|
|99\.3|108\.9|
|96\.0|112\.8|
|101\.7|83\.2|
|98\.8|109\.3|
|104\.2|107\.2|
|104\.3|106\.4|
|96\.9|80\.9|
|104\.9|78\.6|
|102\.6|112\.5|
|94\.4|95\.6|
|102\.9|106\.7|
|99\.4|96\.5|
|94\.6|79\.3|
|106\.8|107\.0|
|98\.5|107\.5|
|104\.4|80\.4|
|102\.2|104\.1|
|97\.4|82\.9|
|92\.7|87\.0|
|99\.2|84\.0|
|103\.3|108\.5|
|97\.1|81\.5|
|98\.0|112\.9|
|101\.4|82\.1|
|99\.4|110\.5|
|105\.3|83\.7|
|100\.4|105\.0|
|95\.4|105\.3|
|96\.2|106\.1|
|97\.6|81\.9|
|108\.3|106\.8|
|95\.9|98\.3|
|101\.1|105\.4|
|98\.0|84\.6|
|102\.7|104\.2|
|101\.5|113\.3|
|96\.2|86\.8|
|99\.8|84\.8|
|94\.4|110\.6|
|101\.0|81\.1|
|110\.5|113\.0|
|101\.4|75\.5|
|97\.9|100\.8|
|104\.0|79\.6|
|102\.3|105\.4|
|103\.9|107\.4|
|102\.6|80\.1|
|101\.6|104\.3|
|97\.3|107\.9|
|100\.9|105\.7|
|93\.6|101\.0|
|105\.4|112\.4|
|100\.5|109\.3|
|105\.6|99\.5|
|96\.1|84\.0|
|86\.8|80\.8|
|97\.4|103\.4|
|93\.5|105\.4|
|98\.7|105\.6|
|99\.8|89\.7|
|96\.7|84\.7|
|98\.9|85\.8|
|106\.0|109\.2|
|96\.6|103\.4|
|98\.4|99\.0|
|97\.7|106\.2|
|100\.2|108\.6|
|109\.0|116\.6|
</div>

そこで，多くの場合データを集約します．集約方法としては，例えば平均身長をとる方法があります．先程の2集団の平均を計算してみると，どちらも100cmになります．ではこれをもって2つの集団は同じと言えるでしょうか．つまり，同一性の基準を平均の一致と定義することは妥当でしょうか．妥当ではありません．例えば，この2集団の身長の分布を[ヒストグラム](https://backlog.com/ja/blog/what-is-a-histogram/)に示してみると次のようになります．一般的には，ヒストグラムの縦軸は度数，つまりその階級に当てはまる人の数ですが，ここでは相対度数，つまりその階級に当てはまる人の数を全体の人数で割ったものを縦軸としています．その根拠は後で説明します．また，分布とは正確には[相対度数分布](https://best-biostatistics.com/toukei-kentei/ref_num.html)のことです．度数分布をグラフにしたのがヒストグラムです．


![](/img/stats/normal-m100-s100.png)
![](/img/stats/normalm84m110.png)

こうしてみると，2つの集団は平均は一致しても，身長の分布は違います．その結果，身長の中央値や，最大値，分散など，平均以外のデータを集約する値(=要約統計量)<marginnote>後で述べる統計量と混同しやすいですが，違う概念なので注意！！</marginnote>は異なることが分かります．

<div class="overflow-x-scroll" style="width : 100%">

|*|平均|中央値|最大値|最小値|分散|標準偏差|
|---|---|---|---|---|---|---|
|集団1|100.0|100.1|110.5|86.7| 15.9| 4.0|
|集団2|100.0|106\.6|110.5|86.7| 15.9| 4.0|

</div >


逆に，2つの分布が同じであれば，平均値だけでなく全ての要約統計量が同じになることを示せます．

そこで，2つの集団がある点，例えば身長において同じであるためには，2つの集団のそれについての分布が同一であればよい，という集団の同一性の基準を採用することにします．このことは，分布が同じなら，すべての要約統計量が同じになることに加えて，直観的には以下のようにも考えられます．引き続き身長を例に説明します．

身長が同じというのは，身長についての情報だけでは2つを見分けることができないことを意味します．例えば2人の身長が同じなら，2人の身長を知るだけでは2人を区別できません．逆に身長だけで2人を区別できるのは，2人の身長が異なるときです．

集団においても同様で，身長について同じというとき，身長だけを測定しても2集団を見分けることができないことを意味するはずです．集団の身長を測定するとは，集団に属する人一人一人の身長を計測することです．このときランダムに取り出して，身長を測っていくとしましょう．分布は相対度数=割合を示すので，身長の分布は，その集団からランダムに1人とってきたときに，身長がある値になる確率を表していると考えることができます．ですから，二つの集団の分布が同じならば，人を取り出したときに，ある身長，例えば170cmとなる確率は2集団で同じになります．他のどの身長をとっても，その身長となる確率は等しいので，ランダムに人を取り出して身長を測ることを続けても，それがどちらの集団なのかを判定することはできません．逆に分布に違いがあれば，でてくる身長の頻度に違いがあるので，どちらの集団から取り出しているのかを判定することができます．もしくは，別の言い方をすると，2集団A,Bがあって，この2集団の身長の分布が同じであれば，最初Aからランダムに人を取り出して身長を測ることを繰り返していたとして，誰かが内緒で取り出す集団をBに入れ替えても，いつAとBが入れ替わったのかを判定することはできないということです．



以上から，ある点において2集団が等しい=その点についての分布が2集団で等しい，2集団が(完全に)等しい=あらゆる点について分布が2集団で等しいを採用することとしましょう．薬の効果を判定するためには，同一の集団を用意する必要がありましたが，今や個人を複製する必要はありません．あらゆる性質の分布が同じ集団をつくることができれば良いからです．逆に，もし2集団が何かしらの点で分布が異なる場合，例えば，身長の伸びを促進する遺伝子GBの分布が次のように異なっていれば，薬に対する効果と思っていたものは，実はこのGBの分布の差に起因していたことがありえ，集団の平均効果の差が薬の効果とはいえなくなります．<sidenote>つまり，実験の結果への反論として，薬の効果といっているけど，薬を使った群は，GBをたくさん発現している人が多いのだから，これが薬群の身長の伸びが良かった原因で，薬の効果が原因ではないかもしれないよね？</sidenote>

<div class="hidden">それゆえ2集団の身長の分布が同じなら，2集団からランダムに1人ずつ取ってきて，身長を測定した時に，その2人がある値をとる確率が同じになるということです．そうすると，この同一性の定義は個人のときのものを拡張したものに思えてきます．つまり個人のときは100%の確率で等しい値がでるのが同一性の定義で，集団のときは，ある値が等しい確率でるのが同一性の定義なのです．つまり個人の同一性に確率を導入したものと見なせます．
以上から，2つの集団が全く同一であるとは，2集団のあらゆる性質の分布が等しいことと定義できます．
</div>

最後に，分布の縦軸を相対度数としたのは今見たとおり，本質的なのは絶対数ではなく割合だからです．単に度数を比べることにすれば，異なった人数からなる集団は同じであるかを考えることができなくなります．

## D

## ランダムサンプリングにより二つの困難を解消する

さて，2集団が同一であるとは，2集団のあらゆる性質の分布が等しいこと，と定義しました．では，実際にあらゆる性質，私たちが知ることのできる性質も，知り得ない性質も全ての性質が等しいような2集団はどうやって作るのでしょうか．その方法がランダムサンプリングです．

ランダムサンプリングとは，集団からその構成員をランダムに選ぶ(サンプリングする)ことです．

例えば日本人1億人から，ランダムに1000人を選んできたとしましょう．このランダムサンプリングによってできる二つの集団は同じになります．つまり，すべての性質の分布は1億人の集団Qと1000人の集団Rで同じになります．その理由を説明しましょう．例えば日本人1億人の身長の分布がこのようだったとしましょう．

このとき，ここからランダムサンプリングをしていき1000人を集めると，この1000人のなかで例えば - cmの人の割合はQと同じ　になります．というのも， - cmの人が選ばれる確率は，Qの分布を見ると，xとなり，それゆえ1000人集めれば x * 1000人があつまり，これを割合にすれば，xとなってQと一致するからです．他の身長についても同じ理屈で割合は同じになります．こうして身長の分布が一致することになります．

身長以外の要素についても，それが私たちが知り得るものであれ，知り得ないものであれ，同じ理屈で同一の分布になることが分かります．

こうして考えると，もう１つの困難「母集団を集めることができない」も解消されることが分かります．そもそも，母集団を集めるのは，母集団への薬の効果を調べたかったからでした．そこで，良いサンプルを作れば，サンプルを調べるだけで十分になると考えていました．良いサンプルとは，母集団への薬の効果とサンプルへの薬の効果が同じと見なせるようなもので，これは母集団とあらゆる性質の分布を一致させれば作ることができます．<sidenote>しつこいですが，こうすれば，薬の有無以外のあらゆる性質が等しいので，差は薬が原因，薬の効果と見なせるからです</sidenote>つまり，母集団からランダムサンプリングによってサンプルを作ればよいわけです．これで「母集団を集めることができない」は「母集団からランダムサンプリングでサンプルを作る」ことで解決されます．

こうして2つの困難，

1. 母集団を集めること -> 母集団からランダムサンプリングしてサンプルを作る
2. 母集団を構成する1人1人を複製すること -> ランダムサンプリングで集団を2分割する

で解消されます．

5歳児の例では，実際に母集団からランダムサンプリングすることは難しいでしょう．Dr.Kが集められるのは，近い将来に5歳になる子供達のみです．しかし，ランダムサンプリングの本質な目的は分布を同一にすることにあることを考えると，結果として分布が同じになっていればそれで十分なわけです．つまり，現在うまれる子供と将来うまれる子供の遺伝的・生活的な差がない=あらゆる性質について分布が同じになる，ということが合理的な仮定と見なせるなら，ランダムサンプリングでなくても，現在の子供達は母集団と同一のよいサンプルと見なせるわけです．この仮定は十分合理的として話を進めましょう．~~やることは同じですが，そうしてよい根拠が分かりましたので安心して行えます．~~

## サンプルは揺らぐ

Dr.Kは以上の理屈から，次のような実験を行いました．

1. ここ1週間でJ国で5歳になる200人の子供を集める．
2. ランダムサンプリングによって，100人ずつの2集団に分割する．
3. 2集団を薬群とコントロール群に分けて，6歳0日時の身長の平均の差を求める．

これを母集団「薬を使用する予定のJ国の5歳0日児の子供全員」との対応で考えると次のようになります．

この200人が母集団からのランダムサンプリングと見なせると考えて，このサンプルから求めた平均差が薬の効果だとDr.Kは考え，これを学会で報告しました．

一方，この報告を聞いたDr.Hは，この結果を確かめるために次のような追加実験を行いました．

1. ここ2週間でJ国で5歳になる400人の子供を集める．
2. ランダムサンプリングによって，200人ずつの2集団に分割する．
3. 2集団を薬群とコントロール群に分けて，6歳0日時の身長の平均の差を求める．

サンプルの対象は，Dr.Kのときと違いますが手法は同じなので，このサンプルから求めた平均差も薬の効果だと考えられるはずです．これを計算してみると，効果はcmとDr.Kと矛盾する結果が得られました．

なぜ，このようなことが起きるのでしょうか．それはサンプルには「揺らぎ(サンプルごとの変動)」が存在するからです．例えば，このような分布をする母集団からランダムに50個取り出して，分布をいくつか作ってみると，このようになります．だいたい同じ形をしていますが，細かく見ると実際にできた分布はバラバラです．つまり，同じ分布から生成されても，揺らぎのせいで実際にできる分布はそれぞれのサンプルで違うということです．しかし，私たちに観測できるのはサンプルだけですから，実際には，母集団とサンプルを見比べて，形が似ているとか違うとか考えることはできません．サンプルの分布から母集団の分布を推測することになります．

この揺らぎは直観的にも分かるように，サンプル数を少なくすれば多大に，サンプル数を多くすれば少なくなっていきます．

![サンプル少ない場合はn=3とn=10とか2つ用意 多い場合はほとんど違いが見えないくらいまで増やす 平均も載せる]()

ということは400人を集めたDr.Hのデータの方が信用できそうですが，では「どれだけ信用できるのか」つまり「400人のデータから求めた薬の効果は母集団から求める薬の効果と比べて，どれだけゆらぎがあるのか」という問いに対して定量的に，つまり揺らぎは2.1ですとか，1,3ですのように数値で答えるための方法論を私たちは，まだ理解していません．そもそも「揺らぎ」とは何かも定義していません．このように有限の揺らぐサンプルから，母集団をいかに定量的に推定するのか，これが次の課題になります．

## 一つの図にして理解する

これまでの話を1枚の図にまとめました．この図の意味するところが分かれば，これまでの内容についてはオーケーです．次に進みましょう．





## 定量的な話へ

しかし，サンプルとして何人を調べれば良いのでしょうか？今までは暗黙の内にサンプルとしてある程度の数をとることを仮定していました．しかし，極端な話，母集団から5人だけとった以下のサンプルは，同じ分布の同じ集団といえるのでしょうか？

![母集団と少ないサンプルの例]()

もしそうではないとしたら，先程のランダムサンプリングすれば同じ集団がつくれるという話は間違いだったのでしょうか？

これらの疑問に答え，話を進めるためには定量的に考える必要があります．











