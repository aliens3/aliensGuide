## 意思決定の一般形式とその判断方法

私たちは日々意思決定をしています．「お昼にラーメンを食べるべきか否か」「マンションを買うべきか否か」などなど．意思決定の基本的な形は「Aをするべきか，しないべきか」と言えます．これはどう決断できるのでしょうか．次の例で考えてみます．

Dr.Kには今日5歳になった子供Lがいます．ちょうど，Kはある飲み薬Zを開発しました．この飲み薬は1回飲むだけで，成長を促進し，飲んだ子供の身長を伸ばす効果があることが理論的には予想できました．しかし，本当にそうなるのかはやってみなくては分からないとも思っています．身長を伸ばす効果があるのなら，子供Lに使ってやりたいですし，そうでないなら，副作用を考えてLに使うことを避けたいところです．

つまりDr.Kの意思決定は「子供Lに薬Zを使うべきか否か」であり，その判断基準は「ZがLの身長を伸ばすか否か」です．一般的にAをすべきか否かは，Aをした時に得られる効果の良し悪しで決まることが多いでしょう．



## 個人の効果を知る確実な方法とその原理と不可能性

そこで問題はこの効果の測定，この例では「ZがLの身長を伸ばすか否か」をどうやって知るのかになります．もっとも確実な方法は次のようなものです．ここでは効果判定の時期としてちょうど1年後の6歳の誕生日をとることにしましょう．

Lのコピー人間L'とL''を作ります．L',L''は名前が違うだけで物理的にはLと全く同じです．L'には，薬Zを飲ませます．L''には，プラセボを飲ませます．1年間L'とL''には，全く同じ生活を送ってもらいます．つまり同じ食事，同じ睡眠，同じ運動などあらゆる活動を同じにします．そして，1年後にL'とL''の身長を測り，その違いがZの効果です．

この確実な方法がなぜ確実なのか，どのようなプロセスでこの方法を思いつくのかを見ていきましょう．

例えばもっとも素朴な方法として薬Zを「えいやっ」とLに投与してしまったらどうでしょうか．この場合，たとえ1年後にLの身長がよく伸びていたとしても，それがZの効果なのかはわかりません．自然によく伸びただけかもしれないからです．例えば，犯罪を犯すもののほとんどは，犯行の前日に水を飲んでいますが，だからといって，犯罪の発生は水の効果ではありません．水を飲んでも飲んでいないくても犯罪は起きただろうからです．同じように，薬を飲んだときのことしか分からなければ，その薬が原因かは分からないのです．

そこで，薬を飲む人と飲まない人を作る必要があります．例えばLには飲ませて，その友達Mには飲ませないとして，効果を比べることにしましょう．しかし，LとMは違う人間ですから，2人の身長の伸びは，薬を飲む飲まない以外の違いで発生し得ます．例えばMはLより年上で，Mの両親はLのよりも背が高いかもしれないですし，一方Lの方が食事の栄養バランスは良いかもしれません．だから，2人の身長の差を比べても，その差が確実に薬のおかげだとは言えないわけです．

それに今までの話ではLに実際に薬を投与してしまっていますが，これだと，薬を飲まないほうが良かったと分かった時に取り返しが付きません．といっても，Lとは別の人間で試しても，すでに述べたようにLとその人には色々な違いがあるために，その結果がLにそのまま適応できるとは限りません．

そこで，Lの複製L',L''をつくって，L'には薬を飲ませ，L''には飲ませないことにして，全く同じ生活を送らせて，効果を調べることにします．L',L''はLのコピー人間のため物理的な違いがなく，同じ生活を送るなら，違いは薬の有無だけです．なので身長の伸びの差は薬の効果と言えるでしょう．さらに3人は同じ人間なので，良い方の結果はそのままLでも再現されるでしょう．

これで今までの問題がすべて解決されました．しかし，もう１つだけ問題があります．それは薬の飲む飲まないを彼らが自覚しているということです．薬を飲むL'は「これで身長が伸びやすくなる」と信じて生きることになりますし，飲まないL''は，「薬を飲まないからL'に比べて身長が伸びない」と信じて生きることになります．身長が伸びる薬だと思うだけで，実際にはそんな効果がなかったとしても，彼らに影響を与えるのです．つまり，L'とL''が送るのは同じ生活ではなくなるのです．これでは，L'とL''の伸びの差は薬の効果ではなく，送った生活の違いのせいかもしれないとなってしまいます．

そこで，小麦をねって丸めただけの全く効果のない，しかし見た目はk薬Zとそっくりの錠剤を用意し，L''には薬Zを飲ませない代わりに，これを本当の薬Zだとして飲ませることにします．このようなものをプラセボ(偽薬)といいます．こうして，L',L''は，薬が純粋に与える効果以外には，全く同じ生活をする全く同じ人間になります．そこで，1年後の身長の差は，そのまま薬の効果と考えることができます．こうして，効果があればLに飲ませ，なければLに飲ませないとすれば，絶対に間違いのない完璧な意思決定ができることになります．

重要なポイントは，効果を測定したいもの，今回の例では薬Zですが，これ以外の要素をすべて同じにした2つを比べることで，結果に影響を及ぼす要因を薬だけに絞ることができる，ということです．

この完璧な方法の欠点は，それが実現不可能だということです．人間をコピーすることはできないからです．しかし，これが可能だったとして話を進めてみましょう．(同じ生活については，厳密な意味での同じはもちろん不可能ですが，同じと見なせるくらい似た生活を送らせることは可能かもしれません．問題は「同じと見なせる」ための条件ですが，これについては置いておきましょう．)



## 集団の効果を知る確実な方法とその原理と不可能性

前回説明した完璧な実験が行えるとしてDr.Kのストーリーを進めます．

実験の結果，Zを飲んだL'のほうが，飲まなかったL''に比べて明らかに身長が伸びていることが分かりました．そこでLにもZを使用したところ，L'と全く同じようにLの身長も伸びました．そこでDr.Kはこの薬をJ国の子供達にも使うべきかを考え始めました．

次の意思決定は「薬ZをJ国の子供達に使うべきか否か」です．この表現は曖昧なので，もう少し具体的に「J国の子供が5歳になった日に薬Z 20mgを1回内服させるべきか否か」としましょう．

これを決断するために何を知ればいいでしょうか？Lの場合には，Lの身長が薬で伸びるか，伸びないかを考えましたが，今回の対象は子供達です．彼ら全員の身長が伸びれば，薬を使うことにする，というのは厳しすぎる条件だとDr.Kは考えました．例えば子供が100人いて，1人の身長は飲むとむしろ伸びなくなる，11人は飲んでも飲まなくても変わらない，88人はとても伸びる，という結果であれば，飲んだほうがいいのだと．こうしてDr.Kは「5歳0日児に薬Z 20mgを使用したときのほうが使用しないときと比べて6歳0日での身長が平均して高いこと」これが，意思決定のための判断基準と考えました．

例えば，5人の5歳0日児がいたときに，彼らをそれぞれLのように複製して，飲む人と飲まない人のそれぞれの伸びの平均を比べ，その結果，飲むときのほうが平均的に高くなっていれば，この5人に対しては薬を飲ませることにするということです．(後述するように，この結果だけからは，すべての5歳0日児に薬Zを使うべき，との結論は引き出せません)

![5人の子供の結果の図　tableで作ってもいいだろう]()

これを調べるための理想的な実験手順は，Lへの効果を調べたときと同じ理屈を使えば，

1. 薬を使用する予定の5歳0日の子供全員を集めてくる
2. 彼らをそれぞれ複製して，薬を飲むものと飲まないものに分ける
3. 全く同じ生活をさせて6歳0日での伸びの平均を比べる

ということになります．2と3のステップは先程と全く同じなので，実施にあたって，人間の複製という困難があります．しかし実は1のステップも同じくらい困難なのです．

まず，「薬を使用する予定の5歳0日の子供==全員==を集めてくる」必要があることを説明します．もし，全員を集めてこないで，先程の5人の結果だけで，薬を使うべきかを判断したとしましょう．しかし，この5人の結果と全員の結果が一致するとは限りません．たまたまこの5人は薬がよく効いただけで，100人,1000人と人数を増やして調べれば，結果は変わってくるでしょう．こうして考えていくと，結果が変わらない，確実なものになるのは，全員の結果を実際に調べた時になります．だからこそ，全員を集める必要があるのです．

しかし，全員とは誰でしょうか．仮に薬Zを使うことになったとすれば，Zは5歳になった子供皆に使われるわけですが，であれば，これから5歳になる子供達，例えば100年後に5歳になる子供達にも薬Zは使われます．よって，今日5歳になった子供達と，明日以降に5歳0日を迎える子供達をあわせたのが，「薬を使用する予定の5歳0日の子供==全員==」です．明日以降というのはいつまでかといえば，最後の人類が5歳を迎える日までです．ということで，人間の複製と同じくらいステップ1にも困難なことが分かります．



万能の神を仮定して，実際に「薬を使用する予定の5歳0日の子供==全員==」を集めてできる集団を母集団と呼ぶことにします．母集団を調べることができれば，まさしく全員の結果を調べることになるので，薬の平均的な効果は揺らぐことがありません．

母集団ではなく，例えば「ここ一週間で5歳を迎える子供達1万人」を集めてきたのなら，これをサンプルといいます．(サンプルは母集団の部分集合です．)サンプルの構成方法はこれ以外にも「」とか「」とか色々あります．重要なのはどのサンプルを使っても，その結果は母集団と一致するとは限らないために不確実性が残るということです．(サンプルに母集団から別の人間を追加すれば結果が変動するので．)しかし，直観的には，未来の子供も現在の子供も違いはないので，現在の子供1万人への薬の効果は母集団への効果とほとんど同じだろうと思います．この直観的は正しいですが，それでも，「」とか「」とかのサンプルでは母集団と一致する結果が出ないかもしれないとも思います．そこで，どんな条件が満たされていれば母集団を集めずにサンプルでよいのかということが次に考えるべきことです．

![図として1週間のサンプル，1年のサンプル，全員集めたときで値の変動，確定することを示す]()

まとめると，集団への効果を知りたければ，

1. 母集団を集める
2. 母集団の1人１人を複製することで母集団を複製し，薬を飲ませる人と飲ませない人の差の平均を調べる

ということになり，困難性は

1. 母集団を集められないこと
2. 母集団を構成する1人1人を複製すること

にあります．

そして1の困難は良いサンプルを得ることで解決できそうです．これには，ランダムサンプリングという現実に実行可能な方法を使います．さらに良いことにこの方法で2の困難も解決されます．



## 同じ集団とは何か？

ランダムサンプリングとは何かという話をする前に，「母集団を構成する1人1人を複製すること」という2の問題が実際には解決する必要のない問題であることを説明します．

そもそもなぜ1人1人を複製しようと思ったのでしょうか．それは，同じ母集団を2つ用意するためです．同じ集団でなければ差が薬の効果とは言えないのでした．

この論理の根底には「集団が同じになるためには，全く同一の個人がどちらの集団にも存在していないといけない」という考えがあります．だからこそ，同じ集団をつくるために，1人1人を複製しようと思うのです．

この集団の同一性に関する考え方を修正すると，個人の複製はできなくても，集団の複製は可能になります．この非対称性が統計学を有用たらしめます．

集団の同一性について考える前に，個人の同一性を考えてみましょう．2人が全く同じ人間というとき，私たちが意味するのは，この2人は，どんな点についても同じであるということです．例えば身長も体重も，身体をつくる細胞の種類も数も，顔の形も，なにもかもぴったり同じだということです．このうち，例えば細胞の数は，私たちが知ることはできませんが，知りうることも知り得ないことも両方含めて全部の点で同じになる，というのが，個人が同じということです．だからこそ，ある介入(例えば薬Z)の効果も同じになるのです．私たちが知りうる点の全てで2人が同じであっても，知り得ない何かしらの点で違っていれば，この違いのために薬の効果が変わってしまう可能性があります．

次に集団の同一性にうつります．2つの集団がそっくり同じか，という問題を考える前に，例えば身長の面では同じかを考えることにしましょう．別の面では違っていても良いとします．

例えば個人の場合だと，身長が同じかを調べたければ身長を測って同一の値になるかを見れば，他の点はさておき，二人は同じ身長だといえます．

しかし，上記の考え「集団が同じになるためには，全く同一の個人がどちらの集団にも存在していないといけない」を採用するなら，身長については同じ，だけど他の点では違うという2つの集団はありえません．集団は全ての点で全く同じか別物かの2択となってしまい，このようにある点では同じ，別の点では違うということを考えることができなくなります．

では，この考えを修正して，他の点はさておき，身長については2集団が同じということを考えるためにどんな基準を設定すればいいでしょうか．問題は，集団は複数人から構成されているので1つの身長は存在しないことです．だから個人のときのように計測した1つの値を直接比べるようなことはできません．

といっても集団のたくさんの値を直接見るのでは，意味のあることを判断するのは難しいので，多くの場合データを集約します．集約方法としては，例えば平均身長をとる方法があります．これが同じであれば，2つの集団の身長が同じと言えるでしょうか．言えません．例えば100人からなる2集団の身長の分布が次のようなら，平均身長がどちらも100cmだとしても，この集団は同じ身長とはいえないでしょう．分布とは横軸に値，縦軸にその値をとる人の割合を表したもののことです．

![二つの集団　平均身長は同じだけど分布が違う]()

一方，分布が同じになれば，平均値だけでなく，例えば中央値，最大値，第3四分位，分散などを計算しても同じになることが分かります．つまり，分布が同じならどんな方法でデータを集約しても結果が一致するということです．

そこで，2つの集団がある点，例えば身長において同じであるためには，2つの集団のそれについての分布が同一であればよい，という集団の同一性の基準を採用することにしましょう．このことは，データを集約した値が同じになることに加えて，直観的には以下のようにも考えられます．

その前に，分布の縦軸は，その値をとる人数ではなく，その人数を全体の数で割った割合であることに注意しましょう．人数にしてしまうと，異なった人数からなる集団は同じであるかを考えることができなくなります．割合に合わせることで全体の人数が違っていても，割合が同じなら同じ集団とみなすことができます．

分布が割合を示すということは，分布は，その集団からランダムに1人とってきたときに，その値になる確率を表していると考えることができます．

それゆえ2集団の分布が同じなら，2集団からランダムに1人ずつ取ってきて，値を測定した時に，その2人がある値をとる確率が同じになるということです．そうすると，この同一性の定義は個人のときのものを拡張したものに思えてきます．つまり個人のときは100%の確率で等しい値がでるのが同一性の定義で，集団のときは，等しい確率で等しい値がでるのが同一性の定義なのです．つまり個人の同一性に確率を導入したものと見なせます．

以上から，2つの集団が全く同一であるとは，2集団のあらゆる性質の分布が等しいことと定義できます．もし2集団が何かしらの点で分布が異なる場合，例えばXXの分布が次のように異なっていれば，薬に対する効果と思っていたものは，実はこの差に起因していたことがありえ，集団の平均効果の差が薬の効果とはいえなくなります．

## ランダムサンプリングにより二つの困難を解消する

さて，集団の同一性の定義が修正されれば，集団の複製に関する困難も解消されます．もはや個人を複製する必要はなく，あらゆる性質の分布が同じ集団をつくることができれば良いからです．その方法がランダムサンプリングです．

ランダムサンプリングとは，集団からその構成員をランダムに選ぶ(サンプリングする)ことです．

例えば日本人1億人から，ランダムに1000人を選んできたとしましょう．このランダムサンプリングによってできる二つの集団は同じになります．つまり，あらゆる性質，すなわち私たちが知り得る性質も，知り得ない性質も，すべての性質の分布が1億人の集団Qと1000人の集団Rで同じになります．その理由を説明しましょう．例えば日本人1億人の身長の分布がこのようだったとしましょう．

このとき，ここからランダムサンプリングをしていき1000人を集めると，この1000人のなかで例えば - cmの人の割合はQと同じ　になります．というのも， - cmの人が選ばれる確率は，Qの分布を見ると，xとなり，それゆえ1000人集めれば x * 1000人があつまり，これを割合にすれば，xとなってQと一致するからです．他の身長についても同じ理屈で割合は同じになります．こうして身長の分布が一致することになります．

身長以外の要素についても，それが私たちが知り得るものであれ，知り得ないものであれ，同じ理屈で同一の分布になることが分かります．

こうして考えると，もう１つの困難「母集団を集めることができない」も解消されることが分かります．そもそも，母集団を集めるのは，母集団への薬の効果を調べたかったからですが，母集団と同じと見なせる良いサンプルを作ることができるなら，サンプルへの薬の効果を調べれば，それは母集団への効果と同じになるはずで十分だろうと考えていたわけです．母集団と同じ，つまり母集団と分布を一致させるためには，母集団からランダムサンプリングによってサンプルを作ればよいでしょう．これで「母集団を集めることができない」は「母集団からランダムサンプリングでサンプルを作る」ことで解決されます．

5歳児の例では，実際に母集団からランダムサンプリングすることは難しいでしょう．Dr.Kが集められるのは，近い将来に5歳になる子供達のみです．しかし，ランダムサンプリングの本質な目的は分布を同一にすることにあることを考えると，結果として分布が同じになっていればそれで十分なわけです．つまり，現在うまれる子供と将来うまれる子供の遺伝的・生活的な差がない=あらゆる性質について分布が同じになる，ということが合理的な仮定と見なせるなら，ランダムサンプリングでなくても，現在の子供達は母集団と同じよいサンプルと見なせるわけです．~~やることは同じですが，そうしてよい根拠が分かりましたので安心して行えます．~~

## 一つの図にして理解する

今までの話は次のような図に集約できます．





## 定量的な話へ

しかし，サンプルとして何人を調べれば良いのでしょうか？今までは暗黙の内にサンプルとしてある程度の数をとることを仮定していました．しかし，極端な話，母集団から5人だけとった以下のサンプルは，同じ分布の同じ集団といえるのでしょうか？

![母集団と少ないサンプルの例]()

もしそうではないとしたら，先程のランダムサンプリングすれば同じ集団がつくれるという話は間違いだったのでしょうか？

これらの疑問に答え，話を進めるためには定量的に考える必要があります．









